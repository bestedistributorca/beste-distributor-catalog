<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Beste Distributor - Product Catalog</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#f5f5f5;color:#333}
.header{background:linear-gradient(135deg,#2b8a8a,#1e6b6b);color:#fff;text-align:center;padding:20px}
.container{max-width:1200px;margin:20px auto;padding:0 20px}
.toolbar{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;justify-content:center}
.btn{padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:600}
.btn-primary{background:#2b8a8a;color:#fff}
.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
.product-card{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.product-image{height:180px;background:#eee}
.product-image img{width:100%;height:100%;object-fit:cover}
.product-info{padding:15px}
.product-price{font-size:20px;font-weight:bold;color:#2b8a8a}
.old-price{text-decoration:line-through;color:#999}
.badge{background:#28a745;color:#fff;padding:3px 8px;border-radius:4px;font-size:11px}
.product-actions{display:flex;gap:8px;margin-top:10px}
.whatsapp-btn{display:block;margin-top:10px;background:#25D366;color:#fff;padding:10px;border-radius:6px;text-align:center;font-size:13px;font-weight:bold;text-decoration:none}
</style>
</head>

<body>

<div class="header">
<h1>Beste Distributor</h1>
<p>Shop smarter, Save more, Delivered fast</p>
</div>

<div class="container">

<div class="toolbar">
<button class="btn btn-primary" onclick="addProduct()">+ Add Sample Product</button>
</div>

<div class="products-grid" id="productsGrid"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import { getDatabase, ref, onValue, set, remove } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js";
import { getStorage } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-storage.js";

/* ðŸ”’ FIREBASE CONFIG â€” UNCHANGED AS REQUESTED */
const firebaseConfig = {
 apiKey: "AIzaSyBK9-eeQ0E7ovI88jcmk9aa10GWpI9V30U",
 authDomain: "beste-distributor.firebaseapp.com",
 databaseURL: "https://beste-distributor-default-rtdb.firebaseio.com",
 projectId: "beste-distributor",
 storageBucket: "beste-distributor.firebasestorage.app",
 messagingSenderId: "384320855826",
 appId: "1:384320855826:web:349cfb70dae242f0f19dcb"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
getStorage(app);

const grid = document.getElementById('productsGrid');

/* LOAD PRODUCTS */
onValue(ref(db,'products'), snap=>{
 grid.innerHTML='';
 snap.forEach(c=>{
  const p=c.val();
  const discount=p.prevPrice && p.prevPrice>p.price;
  const msg=`Hello, I'm interested in ${p.name} priced at $${p.price}`;
  const wa=`https://wa.me/14372600437?text=${encodeURIComponent(msg)}`;
  grid.innerHTML+=`
  <div class="product-card">
   <div class="product-image">${p.image?`<img src="${p.image}">`:''}</div>
   <div class="product-info">
    <strong>${p.name}</strong>
    ${discount?`<div class="old-price">$${p.prevPrice}</div>`:''}
    <div class="product-price">$${p.price} ${discount?'<span class="badge">DISCOUNT</span>':''}</div>
    <a class="whatsapp-btn" href="${wa}" target="_blank">ðŸ“² Order on WhatsApp</a>
    <div class="product-actions">
      <button onclick="deleteProduct('${c.key}')">Delete</button>
    </div>
   </div>
  </div>`;
 });
});

/* QUICK ADD SAMPLE PRODUCT */
window.addProduct = ()=>{
 const id=Date.now();
 set(ref(db,'products/'+id),{
  name:'Sample Product',
  price:9.99,
  prevPrice:12.99,
  image:''
 });
};

window.deleteProduct=id=>{
 if(confirm('Delete product?')){
  remove(ref(db,'products/'+id));
 }
};
</script>

</body>
</html>
